<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Resume builder</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <script data-main="js/main" src="js/lib/require.js"></script>
</head>
<body>
    <div class="header">
        <div class="user-name">Имя пользователя</div>
        <div class="button button_login"><a href="http://localhost:3000/oauth">Войти</a></div>
        <div class="logout">
            <form action="http://localhost:3000/oauth/logout" method="POST">
                <input type="submit" class="button button_logout" value="Выйти" />
            </form>
        </div>
    </div>

    <div class="HH-ResumeBuilder-Container container"></div>

    <script type="text/template" id="HH-ResumeBuilder-Component-BirthDate">
        <span class="control__value">
            <%= date.day %>
            <%= calendar.months[date.month - 1] %>
            <%= date.year %>
        </span>

        <div class="control__input">
            <select name="birth_date-day">
                <% _.each(_.range(1,  calendar.days[date.month - 1] + 1), function(day) { %>
                <option value="<%= day %>"
                <%= date.day === day ? 'selected' : '' %>>
                <%= day %>
                </option>
                <% }); %>
            </select>

            <select class="HH-ResumeBuilder-Component-BirthDate-Month"
                    name="birth_date-month">
                <% _.each(calendar.months, function(month, index) { %>
                <option value="<%= index + 1 %>"
                <%= date.month === index + 1 ? 'selected' : '' %>>
                <%= month %>
                </option>
                <% }); %>
            </select>

            <input class="HH-ResumeBuilder-Component-BirthDate-Year"
                   value="<%= date.year %>"
                   name="birth_date-year"
                   pattern="^[0-9]{4}$"/>
        </div>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-Area">
        <div class="control__input">
            <input class="HH-ResumeBuilder-Component-Area-Input"
                   value="<%= area.name %>"
                   name="area_name"/>

            <button type="button" class="HH-ResumeBuilder-Component-Area-ShowModal">Выбрать из списка</button>
            <div class="HH-ResumeBuilder-Component-Suggest"></div>
            <div class="HH-ResumeBuilder-Component-AreaModal areas-wrapper"></div>
        </div>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-Citizenship">
        <div class="control__input">
            <ul class="checkbox-list">
                <li class="checkbox-list__item">
                    <label>
                        <input type="radio"
                               <%= selectedAreas.length === 1 && selectedAreas[0].id === RUSSIA ? 'checked' : ''  %>
                               name="HH-ResumeBuilder-Component-Citizenship"
                               class="HH-ResumeBuilder-Component-Citizenship-Russia" />
                        Россия
                    </label>
                </li>
                <li class="checkbox-list__item">
                    <label>
                        <input type="radio"
                               <%= selectedAreas.length !== 1 || selectedAreas[0].id !== RUSSIA ? 'checked' : ''  %>
                               name="HH-ResumeBuilder-Component-Citizenship"
                               class="HH-ResumeBuilder-Component-Citizenship-Other" />
                        Другие страны
                    </label>
                </li>
            </ul>

            <div class="HH-ResumeBuilder-Component-CountryPicker"></div>
        </dov>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-WorkTicket">
        <div class="control__input">
            <ul class="checkbox-list">
                <li class="checkbox-list__item">
                    <label>
                        <input type="radio"
                               <%= selectedAreas.length === 1 && selectedAreas[0].id === RUSSIA ? 'checked' : ''  %>
                               name="HH-ResumeBuilder-Component-WorkTicket"
                               class="HH-ResumeBuilder-Component-WorkTicket-Russia" />
                        Россия
                    </label>
                </li>
                <li class="checkbox-list__item">
                    <label>
                        <input type="radio"
                               <%= selectedAreas.length !== 1 || selectedAreas[0].id !== RUSSIA ? 'checked' : ''  %>
                               name="HH-ResumeBuilder-Component-WorkTicket"
                               class="HH-ResumeBuilder-Component-WorkTicket-Other" />
                        Другие страны
                    </label>
                </li>
            </ul>

            <div class="HH-ResumeBuilder-Component-CountryPicker"></div>
        </div>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-Suggest">
        <% if (suggest.length > 0) { %>
        <ul class="HH-Suggest-Results suggest-list">
            <% _.each(suggest, function(suggest) { %>
            <li class="HH-ResumeBuilder-SuggestItem suggest-list__item"><%= suggest %></li>
            <% }); %>
        </ul>
        <% } %>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-AreaModal">
        <% if (area != null) { %>
        <ul class="area-list">
            <% _.each(area.areas, function(a) { %>
            <li class="area-list__item HH-Component-AreaModal-Item">
                <% if (a.open) { %>
                <label class="area-list__item-text area-list__item-text_active">
                    <input type="radio" checked/>
                    <span class="HH-AreaModal-Text"><%= a.name %></span>
                </label>
                <%= fntemplate({area: a, fntemplate: fntemplate}) %>
                <% } else { %>
                <label class="area-list__item-text">
                    <input type="radio"/>
                    <span class="HH-AreaModal-Text"><%= a.name %></span>
                </label>
                <% } %>
            </li>
            <% }); %>
        </ul>
        <% } %>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-CountryPicker">
        <ul class="checkbox-list">
            <% _.each(area, function(area) { %>
            <li class="checkbox-list__item">
                <label>
                    <input class="HH-ResumeBuilder-Checkbox"
                           type="checkbox"
                           <%= selectedIds.indexOf(area.id) >=0 ? 'checked' : '' %>/>
                    <%= area.name  %>
                </label>
            </li>
            <% }); %>
        </ul>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-Metro">
        <% if (hasMetro) { %>
        <label class="control__label">Ближайшее метро</label>
        <span class="control__value"><%= metro %></span>

        <div class="control__input">
            <input class="HH-ResumeBuilder-Component-Metro-Input"
                   value="<%= metro %>"
                   name="metro"/>

            <div class="HH-ResumeBuilder-Component-Suggest"></div>
        </div>
        <% } %>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-Relocation">
        <div class="control__input">
            <ul class="checkbox-list">
                <% _.each(relocation_type, function(relocationType) { %>
                <li class="checkbox-list__item">
                    <label>
                        <input type="radio"
                               value="<%= relocationType.id %>"
                               name="relocation"
                        <%= relocationType.id === relocation.type.id ? 'checked' : '' %>/>
                        <%= relocationType.name %>
                    </label>
                </li>
                <% }); %>
            </ul>
        </div>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-Component-RelocationArea">
        <% if (needArea) { %>
        <label class="control__label">Города переезда</label>
        <span class="control__value"><%= areas %></span>

        <div class="control__input ">
            <input  class="HH-ResumeBuilder-Component-RelocationArea-Input"
                    type="text"
                    value="<%= areas %>"
                    name="relocation_areas"/>

            <span>Укажите города переезда через запятую</span>

            <div class="HH-ResumeBuilder-Component-Suggest"></div>
        </div>
        <% } %>
    </script>
</body>
</html>
