<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Resume builder</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <script data-main="js/main" src="js/lib/require.js"></script>
</head>
<body>
    <div class="header">
        <div class="user-name">Имя пользователя</div>
        <div class="button button_login"><a href="http://localhost:3000/oauth">Войти</a></div>
        <div class="logout">
            <form action="http://localhost:3000/oauth/logout" method="POST">
                <input type="submit" class="button button_logout" value="Выйти" />
            </form>
        </div>
    </div>

    <div class="HH-ResumeBuilder-Container">
      
    </div>

    <script type="text/template" id="HH-ResumeBuilder-AppTemplate">
        <div class="HH-ResumeBuilder-ResumeList">
            
        </div>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-ResumeTemplate">
        <div class="resume">
            <div class="HH-Resume-ResumeSection">
                <a class="HH-ResumeSection-Switch" href="#">Изменить</a>

                <div class="HH-ResumeSection-Control control control_viewing">
                    <label class="control__label">Желаемая должность</label>
                    <span class="control__value"><%= resume.title %></span>
                    <input class="HH-ResumeSection-ControlTextbox control__input"
                           type="text"
                           value="<%= resume.title %>"
                           name="title"
                           data-hh-name="title"
                           placeholder="Например, «Менеджер по продажам»"/>
                </div>

                <div class="HH-ResumeSection-Control control control_viewing">
                    <label class="control__label">Профессиональная область</label>
                    <span class="control__value"><%= resume.specializationNames %></span>
                    <select class="HH-SpecializationControl-Select control__input">
                        <% _.each(specializations, function(specialization) { %>
                            <option value="<%= specialization.id %>"
                                    <%= resume.specialization[0].profarea_id === specialization.id ? 'selected' : '' %>>
                                <%= specialization.name %>
                            </option>
                        <% }); %>
                    </select>
                    <div class="HH-ResumeSection-SpecializationList"></div>
                </div>

                <div class="HH-ResumeSection-Control control control_viewing">
                    <label class="control__label">Желаемая зарплата</label>
                    <span class="control__value"><%= resume.salary.amount %> <%= resume.salary.currency %></span>
                    <input class="HH-ResumeSection-ControlTextbox control__input"
                           type="text"
                           value="<%= resume.salary.amount %>"
                           name="amount"
                           data-hh-name="salary.amount"/>

                    <% _.each(dictionary.currency, function(currency) { %> 
                        <input class="HH-ResumeSection-ControlRadio control__input"
                               type="radio"
                               value="<%= currency.code %>"
                               name="currency"
                               data-hh-name="salary.currency"
                               <%= currency.code === resume.salary.currency ? 'checked' : '' %>/>
                        <span class="control__input-text"><%= currency.abbr %></span>
                    <% }); %>              
                </div>

                <div class="HH-ResumeSection-Control control control_viewing">
                    <label class="control_label">Занятость</label>
                    <span class="control__value"><%= resume.employment.name %></span>
                    <% _.each(dictionary.employment, function(employment) { %>
                        <input class="HH-ResumeSection-ControlRadio control__input"
                               type="radio"
                               value="<%= employment.id %>"
                               name="employment"
                               data-hh-name="employment.id"
                               <%= employment.id === resume.employment.id ? 'checked' : '' %>/>
                        <span class="control__input-text"><%= employment.name %></span>
                    <% }); %>
                </div>

                <div class="HH-ResumeSection-Control control control_viewing">
                    <label class="control_label">График работы</label>
                    <span class="control__value"><%= resume.schedule.name %></span>
                    <% _.each(dictionary.schedule, function(schedule) { %>
                        <input class="HH-ResumeSection-ControlRadio control__input"
                               type="radio"
                               value="<%= schedule.id %>"
                               name="schedule"
                               data-hh-name="schedule.id"
                               <%= schedule.id === resume.schedule.id ? 'checked' : '' %>/>
                        <span class="control__input-text"><%= schedule.name %></span>
                    <% }); %>
                </div>

                <div class="HH-ResumeSection-Control control control_viewing">
                    <label class="control_label">Переезд</label>
                    <span class="control__value"><%= resume.relocation.type.name %></span>
                    <% _.each(dictionary.relocation_type, function(relocationType) { %>
                        <input class="HH-ResumeSection-ControlRadio control__input"
                               type="radio"
                               value="<%= relocationType.id %>"
                               name="relocation"
                               data-hh-name="relocation.type.id"
                               <%= relocationType.id === resume.relocation.type.id ? 'checked' : '' %>/>
                        <span class="control__input-text"><%= relocationType.name %></span>
                    <% }); %>
                </div>

                <div class="HH-ResumeSection-Control control control_viewing">
                    <label class="control_label">Готовность к командировкам</label>
                    <span class="control__value"><%= resume.business_trip_readiness.name %></span>
                    <% _.each(dictionary.business_trip_readiness, function(readiness) { %>
                        <input class="HH-ResumeSection-ControlRadio control__input"
                               type="radio"
                               value="<%= readiness.id %>"
                               name="business_trip_readiness"
                               data-hh-name="business_trip_readiness.id"
                               <%= readiness.id === resume.business_trip_readiness.id ? 'checked' : '' %>/>
                        <span class="control__input-text"><%= readiness.name %></span>
                    <% }); %>
                </div>

                <div class="HH-ResumeSection-Control control control_viewing">
                    <label class="control_label">Время в пути</label>
                    <span class="control__value"><%= resume.travel_time.name %></span>
                    <% _.each(dictionary.travel_time, function(time) { %>
                        <input class="HH-ResumeSection-ControlRadio control__input"
                               type="radio"
                               value="<%= time.id %>"
                               name="travel_time"
                               data-hh-name="travel_time.id"
                               <%= time.id === resume.travel_time.id ? 'checked' : '' %>/>
                        <span class="control__input-text"><%= time.name %></span>
                    <% }); %>
                </div>

                <a class="HH-ResumeSection-Submit" href="#">Сохранить</a>
            </div>
        </div>
    </script>

    <script type="text/template" id="HH-ResumeBuilder-SpecializationTemplate">
        <% _.each(specialization.specializations, function(child) { %>
            <input class="HH-ResumeSection-ControlSpecialization control__input"
                   type="checkbox"
                   value="<%= child.id %>"
                   name="specialization"
                   data-hh-name="id"
                   <%= (specializationIds.indexOf(child.id) !== -1) ? 'checked' : '' %>/>
            <span class="control__input-text"><%= child.name %></span>
        <% }); %>
    </script>
</body>
</html>